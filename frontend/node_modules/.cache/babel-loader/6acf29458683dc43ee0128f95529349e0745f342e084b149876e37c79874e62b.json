{"ast":null,"code":"var _jsxFileName = \"/Users/raghavvats/devprojects/superpower_project/medical_paper_matcher/frontend/src/components/PaperUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Box, Button, Typography, LinearProgress, Alert, Card, CardContent } from '@mui/material';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:8000';\nconst PaperUpload = () => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const [uploadResults, setUploadResults] = useState([]);\n  const fileInputRef = useRef(null);\n  const handleUpload = async event => {\n    const files = event.target.files;\n    if (files.length === 0) return;\n    setUploading(true);\n    setUploadResults([]);\n    const formData = new FormData();\n    Array.from(files).forEach(file => {\n      formData.append('files', file);\n    });\n    try {\n      const response = await axios.post(`${API_BASE_URL}/papers/upload/`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setUploadResults(response.data);\n    } catch (error) {\n      setUploadResults([{\n        title: 'Upload Error',\n        message: error.message,\n        success: false\n      }]);\n    } finally {\n      setUploading(false);\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      backgroundColor: '#2d2d2d',\n      color: '#fff',\n      mb: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        sx: {\n          color: '#90caf9'\n        },\n        children: \"Upload Paper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          border: '2px dashed rgba(255, 255, 255, 0.1)',\n          borderRadius: 1,\n          p: 3,\n          textAlign: 'center',\n          backgroundColor: 'rgba(255, 255, 255, 0.05)',\n          '&:hover': {\n            backgroundColor: 'rgba(255, 255, 255, 0.08)',\n            cursor: 'pointer'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: 'rgba(255, 255, 255, 0.7)'\n          },\n          children: \"Drag and drop your PDF here, or click to select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), uploading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mt: 1\n          },\n          align: \"center\",\n          children: \"Processing papers...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), uploadResults.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: uploadResults.map((result, index) => /*#__PURE__*/_jsxDEV(Alert, {\n          severity: result.paper_id ? \"success\" : \"error\",\n          sx: {\n            mb: 1\n          },\n          children: [result.title, \": \", result.message]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(PaperUpload, \"gdWSNmIp0oFVyycAgkQSMmo4J8o=\");\n_c = PaperUpload;\nexport default PaperUpload;\nvar _c;\n$RefreshReg$(_c, \"PaperUpload\");","map":{"version":3,"names":["React","useState","useRef","Box","Button","Typography","LinearProgress","Alert","Card","CardContent","CloudUploadIcon","axios","jsxDEV","_jsxDEV","API_BASE_URL","PaperUpload","_s","uploading","setUploading","uploadResults","setUploadResults","fileInputRef","handleUpload","event","files","target","length","formData","FormData","Array","from","forEach","file","append","response","post","headers","data","error","title","message","success","current","value","sx","backgroundColor","color","mb","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","border","borderRadius","p","textAlign","cursor","mt","align","map","result","index","severity","paper_id","_c","$RefreshReg$"],"sources":["/Users/raghavvats/devprojects/superpower_project/medical_paper_matcher/frontend/src/components/PaperUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Box, Button, Typography, LinearProgress, Alert, Card, CardContent } from '@mui/material';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000';\n\nconst PaperUpload = () => {\n  const [uploading, setUploading] = useState(false);\n  const [uploadResults, setUploadResults] = useState([]);\n  const fileInputRef = useRef(null);\n\n  const handleUpload = async (event) => {\n    const files = event.target.files;\n    if (files.length === 0) return;\n\n    setUploading(true);\n    setUploadResults([]);\n\n    const formData = new FormData();\n    Array.from(files).forEach(file => {\n      formData.append('files', file);\n    });\n\n    try {\n      const response = await axios.post(`${API_BASE_URL}/papers/upload/`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      setUploadResults(response.data);\n    } catch (error) {\n      setUploadResults([{\n        title: 'Upload Error',\n        message: error.message,\n        success: false\n      }]);\n    } finally {\n      setUploading(false);\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  return (\n    <Card sx={{ \n      backgroundColor: '#2d2d2d',\n      color: '#fff',\n      mb: 3 \n    }}>\n      <CardContent>\n        <Typography variant=\"h6\" gutterBottom sx={{ color: '#90caf9' }}>\n          Upload Paper\n        </Typography>\n        \n        <Box sx={{\n          border: '2px dashed rgba(255, 255, 255, 0.1)',\n          borderRadius: 1,\n          p: 3,\n          textAlign: 'center',\n          backgroundColor: 'rgba(255, 255, 255, 0.05)',\n          '&:hover': {\n            backgroundColor: 'rgba(255, 255, 255, 0.08)',\n            cursor: 'pointer'\n          }\n        }}>\n          {/* Upload area content */}\n          <Typography sx={{ color: 'rgba(255, 255, 255, 0.7)' }}>\n            Drag and drop your PDF here, or click to select\n          </Typography>\n        </Box>\n\n        {/* Progress and error messages */}\n        {uploading && (\n          <Box sx={{ mt: 2 }}>\n            <LinearProgress />\n            <Typography sx={{ mt: 1 }} align=\"center\">\n              Processing papers...\n            </Typography>\n          </Box>\n        )}\n\n        {uploadResults.length > 0 && (\n          <Box sx={{ mt: 2 }}>\n            {uploadResults.map((result, index) => (\n              <Alert \n                key={index}\n                severity={result.paper_id ? \"success\" : \"error\"}\n                sx={{ mb: 1 }}\n              >\n                {result.title}: {result.message}\n              </Alert>\n            ))}\n          </Box>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default PaperUpload; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}